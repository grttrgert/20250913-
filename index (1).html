<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>5호선 전광판 스타일</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;800&display=swap" rel="stylesheet">
  <!-- CSS 파일명은 사용 중인 파일명에 맞춰 유지 -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- 전광판 본문 -->
  <section class="sign">
    <!-- 실시간 도착정보 -->
    <div class="realtime-info">
      <div class="station-header">
        <h1 class="current-station" id="current-station">소요산</h1>
        <div class="line-badge" id="line-badge">1호선</div>
      </div>
      
      <div class="arrival-info">
        <div class="row">
          <h2 class="label-cyanblue" id="current-train-dest">이번열차 소요산행</h2>
          <p class="eta" id="next-train-1">3분 후 도착</p>
        </div>

        <div class="row">
          <h2 class="label-gray" id="next-train-dest">다음열차 소요산행</h2>
          <p class="eta" id="next-train-2">9분 후 도착</p>
        </div>

      </div>
    </div>

    <!-- 하단 5호선 라인 -->
    <div class="line-map">
      <div class="line-info">
        <div class="line-number">1</div>
        <span class="line-name">1호선</span>
      </div>
      <!-- 1호선 노선도 (기본 표시) -->
      <div class="stations line1-stations">
        <div class="station" data-station="연천"><span>연천</span></div>
        <div class="station" data-station="전곡"><span>전곡</span></div>
        <div class="station" data-station="청산"><span>청산</span></div>
        <div class="station" data-station="소요산"><span>소요산</span></div>
        <div class="station" data-station="동두천"><span>동두천</span></div>
        <div class="station" data-station="보산"><span>보산</span></div>
        <div class="station" data-station="동두천중앙"><span>동두천중앙</span></div>
        <div class="station" data-station="지행"><span>지행</span></div>
        <div class="station" data-station="덕정"><span>덕정</span></div>
        <div class="station" data-station="덕계"><span>덕계</span></div>
        <div class="station" data-station="양주"><span>양주</span></div>
        <div class="station" data-station="녹양"><span>녹양</span></div>
        <div class="station" data-station="가능"><span>가능</span></div>
        <div class="station" data-station="의정부"><span>의정부</span></div>
        <div class="station" data-station="회룡"><span>회룡</span></div>
        <div class="station" data-station="망월사"><span>망월사</span></div>
        <div class="station" data-station="도봉산"><span>도봉산</span></div>
        <div class="station" data-station="도봉"><span>도봉</span></div>
        <div class="station" data-station="방학"><span>방학</span></div>
        <div class="station" data-station="창동"><span>창동</span></div>
        <div class="station" data-station="녹천"><span>녹천</span></div>
        <div class="station" data-station="월계"><span>월계</span></div>
        <div class="station" data-station="광운대"><span>광운대</span></div>
        <div class="station" data-station="석계"><span>석계</span></div>
        <div class="station" data-station="신이문"><span>신이문</span></div>
        <div class="station" data-station="외대앞"><span>외대앞</span></div>
        <div class="station" data-station="회기"><span>회기</span></div>
        <div class="station" data-station="청량리"><span>청량리</span></div>
        <div class="station" data-station="제기동"><span>제기동</span></div>
        <div class="station" data-station="신설동"><span>신설동</span></div>
        <div class="station" data-station="동묘앞"><span>동묘앞</span></div>
        <div class="station" data-station="동대문"><span>동대문</span></div>
        <div class="station" data-station="종로5가"><span>종로5가</span></div>
        <div class="station" data-station="종로3가"><span>종로3가</span></div>
        <div class="station" data-station="종각"><span>종각</span></div>
        <div class="station" data-station="시청"><span>시청</span></div>
        <div class="station" data-station="서울역"><span>서울역</span></div>
        <div class="station" data-station="남영"><span>남영</span></div>
        <div class="station" data-station="용산"><span>용산</span></div>
        <div class="station" data-station="노량진"><span>노량진</span></div>
        <div class="station" data-station="대방"><span>대방</span></div>
        <div class="station" data-station="신길"><span>신길</span></div>
        <div class="station" data-station="영등포"><span>영등포</span></div>
        <div class="station" data-station="신도림"><span>신도림</span></div>
        <div class="station" data-station="구로"><span>구로</span></div>
        <div class="station" data-station="가산디지털단지"><span>가산디지털단지</span></div>
        <div class="station" data-station="독산"><span>독산</span></div>
        <div class="station" data-station="금천구청"><span>금천구청</span></div>
        <div class="station" data-station="석수"><span>석수</span></div>
        <div class="station" data-station="관악"><span>관악</span></div>
        <div class="station" data-station="안양"><span>안양</span></div>
        <div class="station" data-station="명학"><span>명학</span></div>
        <div class="station" data-station="금정"><span>금정</span></div>
        <div class="station" data-station="군포"><span>군포</span></div>
        <div class="station" data-station="당정"><span>당정</span></div>
        <div class="station" data-station="의왕"><span>의왕</span></div>
        <div class="station" data-station="성균관대"><span>성균관대</span></div>
        <div class="station" data-station="화서"><span>화서</span></div>
        <div class="station" data-station="수원"><span>수원</span></div>
        <div class="station" data-station="세류"><span>세류</span></div>
        <div class="station" data-station="병점"><span>병점</span></div>
        <div class="station" data-station="세마"><span>세마</span></div>
        <div class="station" data-station="오산대"><span>오산대</span></div>
        <div class="station" data-station="오산"><span>오산</span></div>
        <div class="station" data-station="진위"><span>진위</span></div>
        <div class="station" data-station="송탄"><span>송탄</span></div>
        <div class="station" data-station="서정리"><span>서정리</span></div>
        <div class="station" data-station="평택지제"><span>평택지제</span></div>
        <div class="station" data-station="평택"><span>평택</span></div>
        <div class="station" data-station="성환"><span>성환</span></div>
        <div class="station" data-station="직산"><span>직산</span></div>
        <div class="station" data-station="두정"><span>두정</span></div>
        <div class="station" data-station="천안"><span>천안</span></div>
        <div class="station" data-station="봉명"><span>봉명</span></div>
        <div class="station" data-station="쌍용"><span>쌍용(나사렛대)</span></div>
        <div class="station" data-station="아산"><span>아산</span></div>
        <div class="station" data-station="탕정"><span>탕정</span></div>
        <div class="station" data-station="배방"><span>배방</span></div>
        <div class="station" data-station="온양온천"><span>온양온천</span></div>
        <div class="station" data-station="신창"><span>신창</span></div>
        <div class="station" data-station="광명"><span>광명</span></div>
        <div class="station" data-station="서동탄"><span>서동탄</span></div>
      </div>

      <!-- 2호선 본선 노선도 (기본 숨김) -->
      <div class="stations line2-main-stations" style="display: none;">
        <div class="station" data-station="시청"><span>시청</span></div>
        <div class="station" data-station="을지로입구"><span>을지로입구</span></div>
        <div class="station" data-station="을지로3가"><span>을지로3가</span></div>
        <div class="station" data-station="을지로4가"><span>을지로4가</span></div>
        <div class="station" data-station="동대문역사문화공원"><span>동대문역사문화공원(DDP)</span></div>
        <div class="station" data-station="신당"><span>신당</span></div>
        <div class="station" data-station="상왕십리"><span>상왕십리</span></div>
        <div class="station" data-station="왕십리"><span>왕십리(성동구청)</span></div>
        <div class="station" data-station="한양대"><span>한양대</span></div>
        <div class="station" data-station="뚝섬"><span>뚝섬</span></div>
        <div class="station" data-station="성수"><span>성수</span></div>
        <div class="station" data-station="건대입구"><span>건대입구</span></div>
        <div class="station" data-station="구의"><span>구의(광진구청)</span></div>
        <div class="station" data-station="강변"><span>강변(동서울터미널)</span></div>
        <div class="station" data-station="잠실나루"><span>잠실나루</span></div>
        <div class="station" data-station="잠실"><span>잠실(송파구청)</span></div>
        <div class="station" data-station="잠실새내"><span>잠실새내</span></div>
        <div class="station" data-station="종합운동장"><span>종합운동장</span></div>
        <div class="station" data-station="삼성"><span>삼성(무역센터)</span></div>
        <div class="station" data-station="선릉"><span>선릉</span></div>
        <div class="station" data-station="역삼"><span>역삼</span></div>
        <div class="station" data-station="강남"><span>강남</span></div>
        <div class="station" data-station="교대"><span>교대(법원·검찰청)</span></div>
        <div class="station" data-station="서초"><span>서초</span></div>
        <div class="station" data-station="방배"><span>방배</span></div>
        <div class="station" data-station="사당"><span>사당</span></div>
        <div class="station" data-station="낙성대"><span>낙성대(강감찬)</span></div>
        <div class="station" data-station="서울대입구"><span>서울대입구</span></div>
        <div class="station" data-station="봉천"><span>봉천</span></div>
        <div class="station" data-station="신림"><span>신림</span></div>
        <div class="station" data-station="신대방"><span>신대방</span></div>
        <div class="station" data-station="구로디지털단지"><span>구로디지털단지</span></div>
        <div class="station" data-station="대림"><span>대림</span></div>
        <div class="station" data-station="신도림"><span>신도림</span></div>
        <div class="station" data-station="문래"><span>문래</span></div>
        <div class="station" data-station="영등포구청"><span>영등포구청</span></div>
        <div class="station" data-station="당산"><span>당산</span></div>
        <div class="station" data-station="합정"><span>합정</span></div>
        <div class="station" data-station="홍대입구"><span>홍대입구</span></div>
        <div class="station" data-station="신촌"><span>신촌</span></div>
        <div class="station" data-station="이대"><span>이대</span></div>
        <div class="station" data-station="아현"><span>아현</span></div>
        <div class="station" data-station="충정로"><span>충정로</span></div>
      </div>

      <!-- 2호선 성수지선 노선도 (기본 숨김) -->
      <div class="stations line2-seongsu-stations" style="display: none;">
        <div class="station" data-station="성수"><span>성수</span></div>
        <div class="station" data-station="용답"><span>용답</span></div>
        <div class="station" data-station="신답"><span>신답</span></div>
        <div class="station" data-station="용두"><span>용두(동대문구청)</span></div>
        <div class="station" data-station="신설동"><span>신설동</span></div>
      </div>

      <!-- 2호선 신정지선 노선도 (기본 숨김) -->
      <div class="stations line2-sinjeong-stations" style="display: none;">
        <div class="station" data-station="신도림"><span>신도림</span></div>
        <div class="station" data-station="도림천"><span>도림천</span></div>
        <div class="station" data-station="양천구청"><span>양천구청</span></div>
        <div class="station" data-station="신정네거리"><span>신정네거리</span></div>
        <div class="station" data-station="까치산"><span>까치산</span></div>
      </div>

      <!-- 3호선 노선도 (기본 숨김) -->
      <div class="stations line3-stations" style="display: none;">
        <div class="station" data-station="대화"><span>대화</span></div>
        <div class="station" data-station="주엽"><span>주엽</span></div>
        <div class="station" data-station="정발산"><span>정발산</span></div>
        <div class="station" data-station="마두"><span>마두</span></div>
        <div class="station" data-station="백석"><span>백석</span></div>
        <div class="station" data-station="대곡"><span>대곡</span></div>
        <div class="station" data-station="화정"><span>화정</span></div>
        <div class="station" data-station="원당"><span>원당</span></div>
        <div class="station" data-station="원흥"><span>원흥</span></div>
        <div class="station" data-station="삼송"><span>삼송</span></div>
        <div class="station" data-station="지축"><span>지축</span></div>
        <div class="station" data-station="구파발"><span>구파발</span></div>
        <div class="station" data-station="연신내"><span>연신내</span></div>
        <div class="station" data-station="불광"><span>불광</span></div>
        <div class="station" data-station="녹번"><span>녹번</span></div>
        <div class="station" data-station="홍제"><span>홍제</span></div>
        <div class="station" data-station="무악재"><span>무악재</span></div>
        <div class="station" data-station="독립문"><span>독립문</span></div>
        <div class="station" data-station="경복궁"><span>경복궁</span></div>
        <div class="station" data-station="안국"><span>안국</span></div>
        <div class="station" data-station="종로3가"><span>종로3가</span></div>
        <div class="station" data-station="을지로3가"><span>을지로3가</span></div>
        <div class="station" data-station="충무로"><span>충무로</span></div>
        <div class="station" data-station="동대입구"><span>동대입구</span></div>
        <div class="station" data-station="약수"><span>약수</span></div>
        <div class="station" data-station="금호"><span>금호</span></div>
        <div class="station" data-station="옥수"><span>옥수</span></div>
        <div class="station" data-station="압구정"><span>압구정</span></div>
        <div class="station" data-station="신사"><span>신사</span></div>
        <div class="station" data-station="잠원"><span>잠원</span></div>
        <div class="station" data-station="고속터미널"><span>고속터미널</span></div>
        <div class="station" data-station="교대"><span>교대</span></div>
        <div class="station" data-station="남부터미널"><span>남부터미널</span></div>
        <div class="station" data-station="양재"><span>양재</span></div>
        <div class="station" data-station="매봉"><span>매봉</span></div>
        <div class="station" data-station="도곡"><span>도곡</span></div>
        <div class="station" data-station="대치"><span>대치</span></div>
        <div class="station" data-station="학여울"><span>학여울</span></div>
        <div class="station" data-station="대청"><span>대청</span></div>
        <div class="station" data-station="일원"><span>일원</span></div>
        <div class="station" data-station="수서"><span>수서</span></div>
        <div class="station" data-station="가락시장"><span>가락시장</span></div>
        <div class="station" data-station="경찰병원"><span>경찰병원</span></div>
        <div class="station" data-station="오금"><span>오금</span></div>
      </div>

      <!-- 4호선 노선도 (기본 숨김) -->
      <div class="stations line4-stations" style="display: none;">
        <div class="station" data-station="당고개"><span>당고개</span></div>
        <div class="station" data-station="상계"><span>상계</span></div>
        <div class="station" data-station="노원"><span>노원</span></div>
        <div class="station" data-station="창동"><span>창동</span></div>
        <div class="station" data-station="쌍문"><span>쌍문</span></div>
        <div class="station" data-station="수유"><span>수유</span></div>
        <div class="station" data-station="미아"><span>미아</span></div>
        <div class="station" data-station="미아사거리"><span>미아사거리</span></div>
        <div class="station" data-station="길음"><span>길음</span></div>
        <div class="station" data-station="성신여대입구"><span>성신여대입구</span></div>
        <div class="station" data-station="한성대입구"><span>한성대입구</span></div>
        <div class="station" data-station="혜화"><span>혜화</span></div>
        <div class="station" data-station="동대문"><span>동대문</span></div>
        <div class="station" data-station="동대문역사문화공원"><span>동대문역사문화공원</span></div>
        <div class="station" data-station="충무로"><span>충무로</span></div>
        <div class="station" data-station="명동"><span>명동</span></div>
        <div class="station" data-station="회현"><span>회현</span></div>
        <div class="station" data-station="서울역"><span>서울역</span></div>
        <div class="station" data-station="숙대입구"><span>숙대입구</span></div>
        <div class="station" data-station="삼각지"><span>삼각지</span></div>
        <div class="station" data-station="신용산"><span>신용산</span></div>
        <div class="station" data-station="이촌"><span>이촌</span></div>
        <div class="station" data-station="동작"><span>동작</span></div>
        <div class="station" data-station="총신대입구"><span>총신대입구</span></div>
        <div class="station" data-station="사당"><span>사당</span></div>
        <div class="station" data-station="남태령"><span>남태령</span></div>
        <div class="station" data-station="선바위"><span>선바위</span></div>
        <div class="station" data-station="경마공원"><span>경마공원</span></div>
        <div class="station" data-station="대공원"><span>대공원</span></div>
        <div class="station" data-station="과천"><span>과천</span></div>
        <div class="station" data-station="정부과천청사"><span>정부과천청사</span></div>
        <div class="station" data-station="인덕원"><span>인덕원</span></div>
        <div class="station" data-station="평촌"><span>평촌</span></div>
        <div class="station" data-station="범계"><span>범계</span></div>
        <div class="station" data-station="금정"><span>금정</span></div>
        <div class="station" data-station="산본"><span>산본</span></div>
        <div class="station" data-station="수리산"><span>수리산</span></div>
        <div class="station" data-station="대야미"><span>대야미</span></div>
        <div class="station" data-station="반월"><span>반월</span></div>
        <div class="station" data-station="상록수"><span>상록수</span></div>
        <div class="station" data-station="한대앞"><span>한대앞</span></div>
        <div class="station" data-station="중앙"><span>중앙</span></div>
        <div class="station" data-station="고잔"><span>고잔</span></div>
        <div class="station" data-station="초지"><span>초지</span></div>
        <div class="station" data-station="안산"><span>안산</span></div>
        <div class="station" data-station="신길온천"><span>신길온천</span></div>
        <div class="station" data-station="정왕"><span>정왕</span></div>
        <div class="station" data-station="오이도"><span>오이도</span></div>
      </div>

      <!-- 5호선 노선도 (기본 숨김) -->
      <div class="stations line5-stations" style="display: none;">
        <div class="station" data-station="방화"><span>방화</span></div>
        <div class="station" data-station="개화산"><span>개화산</span></div>
        <div class="station" data-station="김포공항"><span>김포공항</span></div>
        <div class="station" data-station="송정"><span>송정</span></div>
        <div class="station" data-station="마곡"><span>마곡</span></div>
        <div class="station" data-station="발산"><span>발산</span></div>
        <div class="station" data-station="우장산"><span>우장산</span></div>
        <div class="station" data-station="화곡"><span>화곡</span></div>
        <div class="station" data-station="까치산"><span>까치산</span></div>
        <div class="station" data-station="신정"><span>신정</span></div>
        <div class="station" data-station="목동"><span>목동</span></div>
        <div class="station" data-station="오목교"><span>오목교</span></div>
        <div class="station" data-station="양평"><span>양평</span></div>
        <div class="station" data-station="영등포구청"><span>영등포구청</span></div>
        <div class="station" data-station="영등포시장"><span>영등포시장</span></div>
        <div class="station" data-station="신길"><span>신길</span></div>
        <div class="station" data-station="여의도"><span>여의도</span></div>
        <div class="station" data-station="여의나루"><span>여의나루</span></div>
        <div class="station" data-station="마포"><span>마포</span></div>
        <div class="station" data-station="애오개"><span>애오개</span></div>
        <div class="station" data-station="충정로"><span>충정로</span></div>
        <div class="station" data-station="서대문"><span>서대문</span></div>
        <div class="station" data-station="광화문"><span>광화문</span></div>
        <div class="station" data-station="종로3가"><span>종로3가</span></div>
        <div class="station" data-station="을지로4가"><span>을지로4가</span></div>
        <div class="station" data-station="동대문역사문화공원"><span>동대문역사문화공원</span></div>
        <div class="station" data-station="신당"><span>신당</span></div>
        <div class="station" data-station="상왕십리"><span>상왕십리</span></div>
        <div class="station" data-station="왕십리"><span>왕십리</span></div>
        <div class="station" data-station="한양대"><span>한양대</span></div>
        <div class="station" data-station="뚝섬"><span>뚝섬</span></div>
        <div class="station" data-station="성수"><span>성수</span></div>
        <div class="station" data-station="건대입구"><span>건대입구</span></div>
        <div class="station" data-station="구의"><span>구의</span></div>
        <div class="station" data-station="강변"><span>강변</span></div>
        <div class="station" data-station="잠실나루"><span>잠실나루</span></div>
        <div class="station" data-station="잠실"><span>잠실</span></div>
        <div class="station" data-station="신천"><span>신천</span></div>
        <div class="station" data-station="종합운동장"><span>종합운동장</span></div>
        <div class="station" data-station="삼성"><span>삼성</span></div>
        <div class="station" data-station="선릉"><span>선릉</span></div>
        <div class="station" data-station="역삼"><span>역삼</span></div>
        <div class="station" data-station="강남"><span>강남</span></div>
        <div class="station" data-station="교대"><span>교대</span></div>
        <div class="station" data-station="서초"><span>서초</span></div>
        <div class="station" data-station="방배"><span>방배</span></div>
        <div class="station" data-station="사당"><span>사당</span></div>
        <div class="station" data-station="낙성대"><span>낙성대</span></div>
        <div class="station" data-station="서울대입구"><span>서울대입구</span></div>
        <div class="station" data-station="봉천"><span>봉천</span></div>
        <div class="station" data-station="신림"><span>신림</span></div>
        <div class="station" data-station="신대방"><span>신대방</span></div>
        <div class="station" data-station="구로디지털단지"><span>구로디지털단지</span></div>
        <div class="station" data-station="대림"><span>대림</span></div>
        <div class="station" data-station="도림천"><span>도림천</span></div>
        <div class="station" data-station="문래"><span>문래</span></div>
        <div class="station" data-station="영등포구청"><span>영등포구청</span></div>
        <div class="station" data-station="당산"><span>당산</span></div>
        <div class="station" data-station="합정"><span>합정</span></div>
        <div class="station" data-station="홍대입구"><span>홍대입구</span></div>
        <div class="station" data-station="신촌"><span>신촌</span></div>
        <div class="station" data-station="이대"><span>이대</span></div>
        <div class="station" data-station="아현"><span>아현</span></div>
        <div class="station" data-station="충정로"><span>충정로</span></div>
        <div class="station" data-station="시청"><span>시청</span></div>
      </div>

      <!-- 6호선 노선도 (기본 숨김) -->
      <div class="stations line6-stations" style="display: none;">
        <div class="station" data-station="응암"><span>응암</span></div>
        <div class="station" data-station="역촌"><span>역촌</span></div>
        <div class="station" data-station="불광"><span>불광</span></div>
        <div class="station" data-station="독바위"><span>독바위</span></div>
        <div class="station" data-station="연신내"><span>연신내</span></div>
        <div class="station" data-station="구산"><span>구산</span></div>
        <div class="station" data-station="새절"><span>새절</span></div>
        <div class="station" data-station="증산"><span>증산</span></div>
        <div class="station" data-station="디지털미디어시티"><span>디지털미디어시티</span></div>
        <div class="station" data-station="월드컵경기장"><span>월드컵경기장</span></div>
        <div class="station" data-station="마포구청"><span>마포구청</span></div>
        <div class="station" data-station="망원"><span>망원</span></div>
        <div class="station" data-station="합정"><span>합정</span></div>
        <div class="station" data-station="상수"><span>상수</span></div>
        <div class="station" data-station="광흥창"><span>광흥창</span></div>
        <div class="station" data-station="대흥"><span>대흥</span></div>
        <div class="station" data-station="효창공원앞"><span>효창공원앞</span></div>
        <div class="station" data-station="삼각지"><span>삼각지</span></div>
        <div class="station" data-station="녹사평"><span>녹사평</span></div>
        <div class="station" data-station="이태원"><span>이태원</span></div>
        <div class="station" data-station="한강진"><span>한강진</span></div>
        <div class="station" data-station="버티고개"><span>버티고개</span></div>
        <div class="station" data-station="약수"><span>약수</span></div>
        <div class="station" data-station="청구"><span>청구</span></div>
        <div class="station" data-station="신당"><span>신당</span></div>
        <div class="station" data-station="동묘앞"><span>동묘앞</span></div>
        <div class="station" data-station="창신"><span>창신</span></div>
        <div class="station" data-station="보문"><span>보문</span></div>
        <div class="station" data-station="안암"><span>안암</span></div>
        <div class="station" data-station="고려대"><span>고려대</span></div>
        <div class="station" data-station="월곡"><span>월곡</span></div>
        <div class="station" data-station="상월곡"><span>상월곡</span></div>
        <div class="station" data-station="돌곶이"><span>돌곶이</span></div>
        <div class="station" data-station="석계"><span>석계</span></div>
        <div class="station" data-station="태릉입구"><span>태릉입구</span></div>
        <div class="station" data-station="화랑대"><span>화랑대</span></div>
        <div class="station" data-station="봉화산"><span>봉화산</span></div>
        <div class="station" data-station="신내"><span>신내</span></div>
      </div>

      <!-- 7호선 노선도 (기본 숨김) -->
      <div class="stations line7-stations" style="display: none;">
        <div class="station" data-station="석남"><span>석남</span></div>
        <div class="station" data-station="도봉산"><span>도봉산</span></div>
        <div class="station" data-station="수락산"><span>수락산</span></div>
        <div class="station" data-station="마들"><span>마들</span></div>
        <div class="station" data-station="노원"><span>노원</span></div>
        <div class="station" data-station="중계"><span>중계</span></div>
        <div class="station" data-station="하계"><span>하계</span></div>
        <div class="station" data-station="공릉"><span>공릉</span></div>
        <div class="station" data-station="태릉입구"><span>태릉입구</span></div>
        <div class="station" data-station="먹골"><span>먹골</span></div>
        <div class="station" data-station="중화"><span>중화</span></div>
        <div class="station" data-station="상봉"><span>상봉</span></div>
        <div class="station" data-station="면목"><span>면목</span></div>
        <div class="station" data-station="사가정"><span>사가정</span></div>
        <div class="station" data-station="용마산"><span>용마산</span></div>
        <div class="station" data-station="중곡"><span>중곡</span></div>
        <div class="station" data-station="군자"><span>군자</span></div>
        <div class="station" data-station="어린이대공원"><span>어린이대공원</span></div>
        <div class="station" data-station="건대입구"><span>건대입구</span></div>
        <div class="station" data-station="뚝섬유원지"><span>뚝섬유원지</span></div>
        <div class="station" data-station="청담"><span>청담</span></div>
        <div class="station" data-station="강남구청"><span>강남구청</span></div>
        <div class="station" data-station="학동"><span>학동</span></div>
        <div class="station" data-station="논현"><span>논현</span></div>
        <div class="station" data-station="반포"><span>반포</span></div>
        <div class="station" data-station="고속터미널"><span>고속터미널</span></div>
        <div class="station" data-station="내방"><span>내방</span></div>
        <div class="station" data-station="총신대입구"><span>총신대입구</span></div>
        <div class="station" data-station="남성"><span>남성</span></div>
        <div class="station" data-station="숭실대입구"><span>숭실대입구</span></div>
        <div class="station" data-station="상도"><span>상도</span></div>
        <div class="station" data-station="장승배기"><span>장승배기</span></div>
        <div class="station" data-station="신대방삼거리"><span>신대방삼거리</span></div>
        <div class="station" data-station="보라매"><span>보라매</span></div>
        <div class="station" data-station="신풍"><span>신풍</span></div>
        <div class="station" data-station="대림"><span>대림</span></div>
        <div class="station" data-station="남구로"><span>남구로</span></div>
        <div class="station" data-station="가산디지털단지"><span>가산디지털단지</span></div>
        <div class="station" data-station="철산"><span>철산</span></div>
        <div class="station" data-station="광명사거리"><span>광명사거리</span></div>
        <div class="station" data-station="천왕"><span>천왕</span></div>
        <div class="station" data-station="온수"><span>온수</span></div>
        <div class="station" data-station="까치울"><span>까치울</span></div>
        <div class="station" data-station="부천종합운동장"><span>부천종합운동장</span></div>
        <div class="station" data-station="춘의"><span>춘의</span></div>
        <div class="station" data-station="신중동"><span>신중동</span></div>
        <div class="station" data-station="부천시청"><span>부천시청</span></div>
        <div class="station" data-station="상동"><span>상동</span></div>
        <div class="station" data-station="삼산체육관"><span>삼산체육관</span></div>
        <div class="station" data-station="굴포천"><span>굴포천</span></div>
        <div class="station" data-station="부평구청"><span>부평구청</span></div>
        <div class="station" data-station="산곡"><span>산곡</span></div>
        <div class="station" data-station="석남"><span>석남</span></div>
      </div>

      <!-- 8호선 노선도 (기본 숨김) -->
      <div class="stations line8-stations" style="display: none;">
        <div class="station" data-station="모란"><span>모란</span></div>
        <div class="station" data-station="천호"><span>천호</span></div>
        <div class="station" data-station="강동구청"><span>강동구청</span></div>
        <div class="station" data-station="몽촌토성"><span>몽촌토성</span></div>
        <div class="station" data-station="잠실"><span>잠실</span></div>
        <div class="station" data-station="석촌"><span>석촌</span></div>
        <div class="station" data-station="송파"><span>송파</span></div>
        <div class="station" data-station="가락시장"><span>가락시장</span></div>
        <div class="station" data-station="문정"><span>문정</span></div>
        <div class="station" data-station="장지"><span>장지</span></div>
        <div class="station" data-station="복정"><span>복정</span></div>
        <div class="station" data-station="남위례"><span>남위례</span></div>
        <div class="station" data-station="산성"><span>산성</span></div>
        <div class="station" data-station="남한산성입구"><span>남한산성입구</span></div>
        <div class="station" data-station="단대오거리"><span>단대오거리</span></div>
        <div class="station" data-station="신흥"><span>신흥</span></div>
        <div class="station" data-station="수진"><span>수진</span></div>
        <div class="station" data-station="모란"><span>모란</span></div>
        </div>

      <!-- 9호선 노선도 (기본 숨김) -->
      <div class="stations line9-stations" style="display: none;">
        <div class="station" data-station="개화"><span>개화</span></div>
        <div class="station" data-station="김포공항"><span>김포공항</span></div>
        <div class="station" data-station="공항시장"><span>공항시장</span></div>
        <div class="station" data-station="신방화"><span>신방화</span></div>
        <div class="station" data-station="마곡나루"><span>마곡나루</span></div>
        <div class="station" data-station="양천향교"><span>양천향교</span></div>
        <div class="station" data-station="가양"><span>가양</span></div>
        <div class="station" data-station="증미"><span>증미</span></div>
        <div class="station" data-station="등촌"><span>등촌</span></div>
        <div class="station" data-station="염창"><span>염창</span></div>
        <div class="station" data-station="신목동"><span>신목동</span></div>
        <div class="station" data-station="선유도"><span>선유도</span></div>
        <div class="station" data-station="당산"><span>당산</span></div>
        <div class="station" data-station="국회의사당"><span>국회의사당</span></div>
        <div class="station" data-station="여의도"><span>여의도</span></div>
        <div class="station" data-station="샛강"><span>샛강</span></div>
        <div class="station" data-station="노들"><span>노들</span></div>
        <div class="station" data-station="흑석"><span>흑석</span></div>
        <div class="station" data-station="동작"><span>동작</span></div>
        <div class="station" data-station="구반포"><span>구반포</span></div>
        <div class="station" data-station="신반포"><span>신반포</span></div>
        <div class="station" data-station="고속터미널"><span>고속터미널</span></div>
        <div class="station" data-station="사평"><span>사평</span></div>
        <div class="station" data-station="신논현"><span>신논현</span></div>
        <div class="station" data-station="언주"><span>언주</span></div>
        <div class="station" data-station="선정릉"><span>선정릉</span></div>
        <div class="station" data-station="삼성중앙"><span>삼성중앙</span></div>
        <div class="station" data-station="봉은사"><span>봉은사</span></div>
        <div class="station" data-station="종합운동장"><span>종합운동장</span></div>
        <div class="station" data-station="삼전"><span>삼전</span></div>
        <div class="station" data-station="석촌고분"><span>석촌고분</span></div>
        <div class="station" data-station="석촌"><span>석촌</span></div>
        <div class="station" data-station="송파나루"><span>송파나루</span></div>
        <div class="station" data-station="한성백제"><span>한성백제</span></div>
        <div class="station" data-station="올림픽공원"><span>올림픽공원</span></div>
        <div class="station" data-station="둔촌오륜"><span>둔촌오륜</span></div>
        <div class="station" data-station="중앙보훈병원"><span>중앙보훈병원</span></div>
      </div>

      <!-- 신분당선 노선도 (기본 숨김) -->
      <div class="stations shinbundang-stations" style="display: none;">
        <div class="station" data-station="신사"><span>신사</span></div>
        <div class="station" data-station="논현"><span>논현</span></div>
        <div class="station" data-station="신논현"><span>신논현</span></div>
        <div class="station" data-station="강남"><span>강남</span></div>
        <div class="station" data-station="양재"><span>양재(서초구청)</span></div>
        <div class="station" data-station="양재시민의숲"><span>양재시민의숲(매헌)</span></div>
        <div class="station" data-station="청계산입구"><span>청계산입구</span></div>
        <div class="station" data-station="판교"><span>판교(판교테크노밸리)</span></div>
        <div class="station" data-station="정자"><span>정자</span></div>
        <div class="station" data-station="미금"><span>미금</span></div>
        <div class="station" data-station="동천"><span>동천</span></div>
        <div class="station" data-station="수지구청"><span>수지구청</span></div>
        <div class="station" data-station="성복"><span>성복</span></div>
        <div class="station" data-station="상현"><span>상현</span></div>
        <div class="station" data-station="광교중앙"><span>광교중앙(아주대)</span></div>
        <div class="station" data-station="광교"><span>광교(경기대)</span></div>
      </div>
    </div>
  </section>


  <!-- 왼쪽 지하철 노선 목록 -->
  <div class="subway-lines">
    <h3>지하철 노선</h3>
    <div class="line-list">
      <div class="line-item line-1 active">1호선</div>
      <div class="line-item line-2">2호선</div>
      <div class="line-item line-2-seongsu">2호선 성수지선</div>
      <div class="line-item line-2-sinjeong">2호선 신정지선</div>
      <div class="line-item line-3">3호선</div>
      <div class="line-item line-4">4호선</div>
      <div class="line-item line-5">5호선</div>
      <div class="line-item line-6">6호선</div>
      <div class="line-item line-7">7호선</div>
      <div class="line-item line-8">8호선</div>
      <div class="line-item line-9">9호선</div>
      <div class="line-item line-sinbundang">신분당선</div>
      <div class="line-item line-gyeongui">경의중앙선</div>
      <div class="line-item line-gyeongchun">경춘선</div>
      <div class="line-item line-bundang">분당선</div>
      <div class="line-item line-airport">공항철도</div>
      <div class="line-item line-gimpo">김포골드라인</div>
      <div class="line-item line-gtx-a">GTX-A</div>
    </div>
  </div>

  <!-- 오른쪽 상단 실시간 시계 (시:분) -->
  <div class="clock" id="clock" aria-label="현재 시각"></div>


  <!-- 시계 및 실시간 도착정보 스크립트 -->
  <script>
    // 시계 업데이트
    function pad(n){ return n.toString().padStart(2, '0'); }
    function updateClock(){
      const now = new Date();
      const hh = pad(now.getHours());
      const mi = pad(now.getMinutes());
      document.getElementById('clock').textContent = `${hh}:${mi}`;
    }
    updateClock();
    setInterval(updateClock, 1000);

    // 실제 API 사용을 위한 설정
    const API_CONFIG = {
      // 공공데이터포털에서 발급받은 인증키를 여기에 입력하세요
      // 1. https://data.go.kr 접속
      // 2. 회원가입 후 로그인
      // 3. '서울특별시_지하철 실시간 도착정보' API 신청
      // 4. 발급받은 인증키를 아래에 입력
      API_KEY: '43746d706d69746f36397763466863',
      // 서울시 지하철 실시간 도착정보 API URL (올바른 형식)
      API_URL: 'http://swopenAPI.seoul.go.kr/api/subway/sample/json/realtimeStationArrival/0/5/',
      // 공덕역 코드 (5호선)
      STATION_CODE: '0527'
    };

    // 실시간 도착정보 시뮬레이션 (API 사용 전까지)
    const stations = [
      { name: "공덕역", arrivals: [3, 9, 16] },
      { name: "애오개역", arrivals: [1, 7, 14] },
      { name: "충정로역", arrivals: [2, 8, 15] },
      { name: "서대문역", arrivals: [4, 10, 17] }
    ];

    // 1호선 모든 역의 도착 정보 데이터 (정확한 순서)
    const line1StationData = {
      "연천": { arrivals: [1, 5] },
      "전곡": { arrivals: [2, 6] },
      "청산": { arrivals: [3, 7] },
      "소요산": { arrivals: [1, 5] },
      "동두천": { arrivals: [2, 6] },
      "보산": { arrivals: [3, 7] },
      "동두천중앙": { arrivals: [1, 5] },
      "지행": { arrivals: [2, 6] },
      "덕정": { arrivals: [3, 7] },
      "덕계": { arrivals: [1, 5] },
      "양주": { arrivals: [2, 6] },
      "녹양": { arrivals: [3, 7] },
      "가능": { arrivals: [1, 5] },
      "의정부": { arrivals: [2, 6] },
      "회룡": { arrivals: [3, 7] },
      "망월사": { arrivals: [1, 5] },
      "도봉산": { arrivals: [2, 6] },
      "도봉": { arrivals: [3, 7] },
      "방학": { arrivals: [1, 5] },
      "창동": { arrivals: [2, 6] },
      "녹천": { arrivals: [3, 7] },
      "월계": { arrivals: [1, 5] },
      "광운대": { arrivals: [2, 6] },
      "석계": { arrivals: [3, 7] },
      "신이문": { arrivals: [1, 5] },
      "외대앞": { arrivals: [2, 6] },
      "회기": { arrivals: [3, 7] },
      "청량리": { arrivals: [1, 5] },
      "제기동": { arrivals: [2, 6] },
      "신설동": { arrivals: [3, 7] },
      "동묘앞": { arrivals: [1, 5] },
      "동대문": { arrivals: [2, 6] },
      "종로5가": { arrivals: [3, 7] },
      "종로3가": { arrivals: [1, 5] },
      "종각": { arrivals: [2, 6] },
      "시청": { arrivals: [3, 7] },
      "서울역": { arrivals: [1, 5] },
      "남영": { arrivals: [2, 6] },
      "용산": { arrivals: [3, 7] },
      "노량진": { arrivals: [1, 5] },
      "대방": { arrivals: [2, 6] },
      "신길": { arrivals: [3, 7] },
      "영등포": { arrivals: [1, 5] },
      "신도림": { arrivals: [2, 6] },
      "구로": { arrivals: [3, 7] },
      "가산디지털단지": { arrivals: [1, 5] },
      "독산": { arrivals: [2, 6] },
      "금천구청": { arrivals: [3, 7] },
      "석수": { arrivals: [1, 5] },
      "관악": { arrivals: [2, 6] },
      "안양": { arrivals: [3, 7] },
      "명학": { arrivals: [1, 5] },
      "금정": { arrivals: [2, 6] },
      "군포": { arrivals: [3, 7] },
      "당정": { arrivals: [1, 5] },
      "의왕": { arrivals: [2, 6] },
      "성균관대": { arrivals: [3, 7] },
      "화서": { arrivals: [1, 5] },
      "수원": { arrivals: [2, 6] },
      "세류": { arrivals: [3, 7] },
      "병점": { arrivals: [1, 5] },
      "세마": { arrivals: [2, 6] },
      "오산대": { arrivals: [3, 7] },
      "오산": { arrivals: [1, 5] },
      "진위": { arrivals: [2, 6] },
      "송탄": { arrivals: [3, 7] },
      "서정리": { arrivals: [1, 5] },
      "평택지제": { arrivals: [2, 6] },
      "평택": { arrivals: [3, 7] },
      "성환": { arrivals: [1, 5] },
      "직산": { arrivals: [2, 6] },
      "두정": { arrivals: [3, 7] },
      "천안": { arrivals: [1, 5] },
      "봉명": { arrivals: [2, 6] },
      "쌍용": { arrivals: [3, 7] },
      "아산": { arrivals: [1, 5] },
      "탕정": { arrivals: [2, 6] },
      "배방": { arrivals: [3, 7] },
      "온양온천": { arrivals: [1, 5] },
      "신창": { arrivals: [2, 6] },
      "광명": { arrivals: [3, 7] },
      "서동탄": { arrivals: [1, 5] }
    };

    // 2호선 본선 역 데이터 (순환선)
    const line2MainStationData = {
      "시청": { arrivals: [1, 5] },
      "을지로입구": { arrivals: [2, 6] },
      "을지로3가": { arrivals: [3, 7] },
      "을지로4가": { arrivals: [1, 5] },
      "동대문역사문화공원": { arrivals: [2, 6] },
      "신당": { arrivals: [3, 7] },
      "상왕십리": { arrivals: [1, 5] },
      "왕십리": { arrivals: [2, 6] },
      "한양대": { arrivals: [3, 7] },
      "뚝섬": { arrivals: [1, 5] },
      "성수": { arrivals: [2, 6] },
      "건대입구": { arrivals: [3, 7] },
      "구의": { arrivals: [1, 5] },
      "강변": { arrivals: [2, 6] },
      "잠실나루": { arrivals: [3, 7] },
      "잠실": { arrivals: [1, 5] },
      "잠실새내": { arrivals: [2, 6] },
      "종합운동장": { arrivals: [3, 7] },
      "삼성": { arrivals: [1, 5] },
      "선릉": { arrivals: [2, 6] },
      "역삼": { arrivals: [3, 7] },
      "강남": { arrivals: [1, 5] },
      "교대": { arrivals: [2, 6] },
      "서초": { arrivals: [3, 7] },
      "방배": { arrivals: [1, 5] },
      "사당": { arrivals: [2, 6] },
      "낙성대": { arrivals: [3, 7] },
      "서울대입구": { arrivals: [1, 5] },
      "봉천": { arrivals: [2, 6] },
      "신림": { arrivals: [3, 7] },
      "신대방": { arrivals: [1, 5] },
      "구로디지털단지": { arrivals: [2, 6] },
      "대림": { arrivals: [3, 7] },
      "신도림": { arrivals: [1, 5] },
      "문래": { arrivals: [2, 6] },
      "영등포구청": { arrivals: [3, 7] },
      "당산": { arrivals: [1, 5] },
      "합정": { arrivals: [2, 6] },
      "홍대입구": { arrivals: [3, 7] },
      "신촌": { arrivals: [1, 5] },
      "이대": { arrivals: [2, 6] },
      "아현": { arrivals: [3, 7] },
      "충정로": { arrivals: [1, 5] }
    };

    // 2호선 성수지선 역 데이터
    const line2SeongsuStationData = {
      "성수": { arrivals: [1, 5] },
      "용답": { arrivals: [2, 6] },
      "신답": { arrivals: [3, 7] },
      "용두": { arrivals: [1, 5] },
      "신설동": { arrivals: [2, 6] }
    };

    // 2호선 신정지선 역 데이터
    const line2SinjeongStationData = {
      "신도림": { arrivals: [1, 5] },
      "도림천": { arrivals: [2, 6] },
      "양천구청": { arrivals: [3, 7] },
      "신정네거리": { arrivals: [1, 5] },
      "까치산": { arrivals: [2, 6] }
    };

    // 3호선 모든 역의 도착 정보 데이터 (2개 열차만)
    const line3StationData = {
      "대화": { arrivals: [3, 9] },
      "주엽": { arrivals: [1, 6] },
      "정발산": { arrivals: [3, 8] },
      "마두": { arrivals: [2, 7] },
      "백석": { arrivals: [4, 9] },
      "대곡": { arrivals: [1, 6] },
      "화정": { arrivals: [3, 8] },
      "원당": { arrivals: [2, 7] },
      "원흥": { arrivals: [4, 9] },
      "삼송": { arrivals: [1, 6] },
      "지축": { arrivals: [3, 8] },
      "구파발": { arrivals: [2, 7] },
      "연신내": { arrivals: [4, 9] },
      "불광": { arrivals: [1, 6] },
      "녹번": { arrivals: [3, 8] },
      "홍제": { arrivals: [2, 7] },
      "무악재": { arrivals: [4, 9] },
      "독립문": { arrivals: [1, 6] },
      "경복궁": { arrivals: [3, 8] },
      "안국": { arrivals: [2, 7] },
      "종로3가": { arrivals: [4, 9] },
      "을지로3가": { arrivals: [1, 6] },
      "충무로": { arrivals: [3, 8] },
      "동대입구": { arrivals: [2, 7] },
      "약수": { arrivals: [4, 9] },
      "금호": { arrivals: [1, 6] },
      "옥수": { arrivals: [3, 8] },
      "압구정": { arrivals: [2, 7] },
      "신사": { arrivals: [4, 9] },
      "잠원": { arrivals: [1, 6] },
      "고속터미널": { arrivals: [3, 8] },
      "교대": { arrivals: [2, 7] },
      "남부터미널": { arrivals: [4, 9] },
      "양재": { arrivals: [1, 6] },
      "매봉": { arrivals: [3, 8] },
      "도곡": { arrivals: [2, 7] },
      "대치": { arrivals: [4, 9] },
      "학여울": { arrivals: [1, 6] },
      "대청": { arrivals: [3, 8] },
      "일원": { arrivals: [2, 7] },
      "수서": { arrivals: [4, 9] },
      "가락시장": { arrivals: [1, 6] },
      "경찰병원": { arrivals: [3, 8] },
      "오금": { arrivals: [2, 7] }
    };

    // 4호선 모든 역의 도착 정보 데이터 (2개 열차만)
    const line4StationData = {
      "당고개": { arrivals: [4, 11] },
      "상계": { arrivals: [1, 6] },
      "노원": { arrivals: [3, 8] },
      "창동": { arrivals: [2, 7] },
      "쌍문": { arrivals: [4, 9] },
      "수유": { arrivals: [1, 6] },
      "미아": { arrivals: [3, 8] },
      "미아사거리": { arrivals: [2, 7] },
      "길음": { arrivals: [4, 9] },
      "성신여대입구": { arrivals: [1, 6] },
      "한성대입구": { arrivals: [3, 8] },
      "혜화": { arrivals: [2, 7] },
      "동대문": { arrivals: [4, 9] },
      "동대문역사문화공원": { arrivals: [1, 6] },
      "충무로": { arrivals: [3, 8] },
      "명동": { arrivals: [2, 7] },
      "회현": { arrivals: [4, 9] },
      "서울역": { arrivals: [1, 6] },
      "숙대입구": { arrivals: [3, 8] },
      "삼각지": { arrivals: [2, 7] },
      "신용산": { arrivals: [4, 9] },
      "이촌": { arrivals: [1, 6] },
      "동작": { arrivals: [3, 8] },
      "총신대입구": { arrivals: [2, 7] },
      "사당": { arrivals: [4, 9] },
      "남태령": { arrivals: [1, 6] },
      "선바위": { arrivals: [3, 8] },
      "경마공원": { arrivals: [2, 7] },
      "대공원": { arrivals: [4, 9] },
      "과천": { arrivals: [1, 6] },
      "정부과천청사": { arrivals: [3, 8] },
      "인덕원": { arrivals: [2, 7] },
      "평촌": { arrivals: [4, 9] },
      "범계": { arrivals: [1, 6] },
      "금정": { arrivals: [3, 8] },
      "산본": { arrivals: [2, 7] },
      "수리산": { arrivals: [4, 9] },
      "대야미": { arrivals: [1, 6] },
      "반월": { arrivals: [3, 8] },
      "상록수": { arrivals: [2, 7] },
      "한대앞": { arrivals: [4, 9] },
      "중앙": { arrivals: [1, 6] },
      "고잔": { arrivals: [3, 8] },
      "초지": { arrivals: [2, 7] },
      "안산": { arrivals: [4, 9] },
      "신길온천": { arrivals: [1, 6] },
      "정왕": { arrivals: [3, 8] },
      "오이도": { arrivals: [2, 7] }
    };

    // 5호선 모든 역의 도착 정보 데이터 (2개 열차만)
    const allStationData = {
      "방화": { arrivals: [2, 7] },
      "개화산": { arrivals: [1, 6] },
      "김포공항": { arrivals: [3, 8] },
      "송정": { arrivals: [2, 7] },
      "마곡": { arrivals: [4, 9] },
      "발산": { arrivals: [1, 6] },
      "우장산": { arrivals: [3, 8] },
      "화곡": { arrivals: [2, 7] },
      "까치산": { arrivals: [4, 9] },
      "신정": { arrivals: [1, 6] },
      "목동": { arrivals: [3, 8] },
      "오목교": { arrivals: [2, 7] },
      "양평": { arrivals: [4, 9] },
      "영등포구청": { arrivals: [1, 6] },
      "영등포시장": { arrivals: [3, 8] },
      "신길": { arrivals: [2, 7] },
      "여의도": { arrivals: [4, 9] },
      "여의나루": { arrivals: [1, 6] },
      "마포": { arrivals: [3, 8] },
      "애오개": { arrivals: [4, 9] },
      "충정로": { arrivals: [1, 6] },
      "서대문": { arrivals: [3, 8] },
      "광화문": { arrivals: [2, 7] },
      "종로3가": { arrivals: [4, 9] },
      "을지로4가": { arrivals: [1, 6] },
      "동대문운동장": { arrivals: [3, 8] },
      "청구": { arrivals: [2, 7] },
      "신금호": { arrivals: [4, 9] },
      "행당": { arrivals: [1, 6] },
      "왕십리": { arrivals: [3, 8] },
      "마장": { arrivals: [2, 7] },
      "답십리": { arrivals: [4, 9] },
      "장한평": { arrivals: [1, 6] },
      "군자": { arrivals: [3, 8] },
      "아차산": { arrivals: [2, 7] },
      "광나루": { arrivals: [4, 9] },
      "천호": { arrivals: [1, 6] },
      "강동": { arrivals: [3, 8] },
      "길동": { arrivals: [2, 7] },
      "굽은다리": { arrivals: [4, 9] },
      "명일": { arrivals: [1, 6] },
      "고덕": { arrivals: [3, 8] },
      "상일동": { arrivals: [2, 7] },
      "강일": { arrivals: [4, 9] },
      "미사": { arrivals: [1, 6] },
      "하남풍산": { arrivals: [3, 8] },
      "하남시청": { arrivals: [2, 7] },
      "하남검단산": { arrivals: [4, 9] }
    };

    // 6호선 모든 역의 도착 정보 데이터 (2개 열차만)
    const line6StationData = {
      "응암": { arrivals: [5, 12] },
      "역촌": { arrivals: [1, 6] },
      "불광": { arrivals: [3, 8] },
      "독바위": { arrivals: [2, 7] },
      "연신내": { arrivals: [4, 9] },
      "구산": { arrivals: [1, 6] },
      "새절": { arrivals: [3, 8] },
      "증산": { arrivals: [2, 7] },
      "디지털미디어시티": { arrivals: [4, 9] },
      "월드컵경기장": { arrivals: [1, 6] },
      "마포구청": { arrivals: [3, 8] },
      "망원": { arrivals: [2, 7] },
      "합정": { arrivals: [4, 9] },
      "상수": { arrivals: [1, 6] },
      "광흥창": { arrivals: [3, 8] },
      "대흥": { arrivals: [2, 7] },
      "효창공원앞": { arrivals: [1, 6] },
      "삼각지": { arrivals: [3, 8] },
      "녹사평": { arrivals: [2, 7] },
      "이태원": { arrivals: [4, 9] },
      "한강진": { arrivals: [1, 6] },
      "버티고개": { arrivals: [3, 8] },
      "약수": { arrivals: [2, 7] },
      "청구": { arrivals: [4, 9] },
      "신당": { arrivals: [1, 6] },
      "동묘앞": { arrivals: [3, 8] },
      "창신": { arrivals: [2, 7] },
      "보문": { arrivals: [4, 9] },
      "안암": { arrivals: [1, 6] },
      "고려대": { arrivals: [3, 8] },
      "월곡": { arrivals: [2, 7] },
      "상월곡": { arrivals: [4, 9] },
      "돌곶이": { arrivals: [1, 6] },
      "석계": { arrivals: [3, 8] },
      "태릉입구": { arrivals: [2, 7] },
      "화랑대": { arrivals: [4, 9] },
      "봉화산": { arrivals: [1, 6] },
      "신내": { arrivals: [3, 8] }
    };

    // 7호선 모든 역의 도착 정보 데이터 (2개 열차만)
    const line7StationData = {
      "석남": { arrivals: [2, 7] },
      "도봉산": { arrivals: [1, 6] },
      "수락산": { arrivals: [3, 8] },
      "마들": { arrivals: [2, 7] },
      "노원": { arrivals: [4, 9] },
      "중계": { arrivals: [1, 6] },
      "하계": { arrivals: [3, 8] },
      "공릉": { arrivals: [2, 7] },
      "태릉입구": { arrivals: [4, 9] },
      "먹골": { arrivals: [1, 6] },
      "중화": { arrivals: [3, 8] },
      "상봉": { arrivals: [2, 7] },
      "면목": { arrivals: [4, 9] },
      "사가정": { arrivals: [1, 6] },
      "용마산": { arrivals: [3, 8] },
      "중곡": { arrivals: [2, 7] },
      "군자": { arrivals: [4, 9] },
      "어린이대공원": { arrivals: [1, 6] },
      "건대입구": { arrivals: [3, 8] },
      "뚝섬유원지": { arrivals: [2, 7] },
      "청담": { arrivals: [4, 9] },
      "강남구청": { arrivals: [1, 6] },
      "학동": { arrivals: [3, 8] },
      "논현": { arrivals: [2, 7] },
      "반포": { arrivals: [4, 9] },
      "고속터미널": { arrivals: [1, 6] },
      "내방": { arrivals: [3, 8] },
      "총신대입구": { arrivals: [2, 7] },
      "남성": { arrivals: [4, 9] },
      "숭실대입구": { arrivals: [1, 6] },
      "상도": { arrivals: [3, 8] },
      "장승배기": { arrivals: [2, 7] },
      "신대방삼거리": { arrivals: [4, 9] },
      "보라매": { arrivals: [1, 6] },
      "신풍": { arrivals: [3, 8] },
      "대림": { arrivals: [2, 7] },
      "남구로": { arrivals: [4, 9] },
      "가산디지털단지": { arrivals: [1, 6] },
      "철산": { arrivals: [3, 8] },
      "광명사거리": { arrivals: [2, 7] },
      "천왕": { arrivals: [4, 9] },
      "온수": { arrivals: [1, 6] },
      "까치울": { arrivals: [3, 8] },
      "부천종합운동장": { arrivals: [2, 7] },
      "춘의": { arrivals: [4, 9] },
      "신중동": { arrivals: [1, 6] },
      "부천시청": { arrivals: [3, 8] },
      "상동": { arrivals: [2, 7] },
      "삼산체육관": { arrivals: [4, 9] },
      "굴포천": { arrivals: [1, 6] },
      "부평구청": { arrivals: [3, 8] },
      "산곡": { arrivals: [2, 7] },
      "석남": { arrivals: [4, 9] }
    };

    // 8호선 모든 역의 도착 정보 데이터 (2개 열차만)
    const line8StationData = {
      "모란": { arrivals: [2, 7] },
      "천호": { arrivals: [1, 6] },
      "강동구청": { arrivals: [3, 8] },
      "몽촌토성": { arrivals: [2, 7] },
      "잠실": { arrivals: [4, 9] },
      "석촌": { arrivals: [1, 6] },
      "송파": { arrivals: [3, 8] },
      "가락시장": { arrivals: [2, 7] },
      "문정": { arrivals: [4, 9] },
      "장지": { arrivals: [1, 6] },
      "복정": { arrivals: [3, 8] },
      "남위례": { arrivals: [2, 7] },
      "산성": { arrivals: [4, 9] },
      "남한산성입구": { arrivals: [1, 6] },
      "단대오거리": { arrivals: [3, 8] },
      "신흥": { arrivals: [2, 7] },
      "수진": { arrivals: [4, 9] },
      "모란": { arrivals: [1, 6] }
    };

    // 9호선 모든 역의 도착 정보 데이터 (2개 열차만)
    const line9StationData = {
      "개화": { arrivals: [2, 7] },
      "김포공항": { arrivals: [1, 6] },
      "공항시장": { arrivals: [3, 8] },
      "신방화": { arrivals: [2, 7] },
      "마곡나루": { arrivals: [4, 9] },
      "양천향교": { arrivals: [1, 6] },
      "가양": { arrivals: [3, 8] },
      "증미": { arrivals: [2, 7] },
      "등촌": { arrivals: [4, 9] },
      "염창": { arrivals: [1, 6] },
      "신목동": { arrivals: [3, 8] },
      "선유도": { arrivals: [2, 7] },
      "당산": { arrivals: [4, 9] },
      "국회의사당": { arrivals: [1, 6] },
      "여의도": { arrivals: [3, 8] },
      "샛강": { arrivals: [2, 7] },
      "노들": { arrivals: [4, 9] },
      "흑석": { arrivals: [1, 6] },
      "동작": { arrivals: [3, 8] },
      "구반포": { arrivals: [2, 7] },
      "신반포": { arrivals: [4, 9] },
      "고속터미널": { arrivals: [1, 6] },
      "사평": { arrivals: [3, 8] },
      "신논현": { arrivals: [2, 7] },
      "언주": { arrivals: [4, 9] },
      "선정릉": { arrivals: [1, 6] },
      "삼성중앙": { arrivals: [3, 8] },
      "봉은사": { arrivals: [2, 7] },
      "종합운동장": { arrivals: [4, 9] },
      "삼전": { arrivals: [1, 6] },
      "석촌고분": { arrivals: [3, 8] },
      "석촌": { arrivals: [2, 7] },
      "송파나루": { arrivals: [4, 9] },
      "한성백제": { arrivals: [1, 6] },
      "올림픽공원": { arrivals: [3, 8] },
      "둔촌오륜": { arrivals: [2, 7] },
      "중앙보훈병원": { arrivals: [4, 9] }
    };

    // 신분당선 역 데이터 (정확한 순서와 역명)
    const shinbundangStationData = {
      '신사': { arrivals: [1, 5] },
      '논현': { arrivals: [2, 6] },
      '신논현': { arrivals: [3, 7] },
      '강남': { arrivals: [1, 5] },
      '양재': { arrivals: [2, 6] },
      '양재시민의숲': { arrivals: [3, 7] },
      '청계산입구': { arrivals: [1, 5] },
      '판교': { arrivals: [2, 6] },
      '정자': { arrivals: [3, 7] },
      '미금': { arrivals: [1, 5] },
      '동천': { arrivals: [2, 6] },
      '수지구청': { arrivals: [3, 7] },
      '성복': { arrivals: [1, 5] },
      '상현': { arrivals: [2, 6] },
      '광교중앙': { arrivals: [3, 7] },
      '광교': { arrivals: [1, 5] }
    };

    let currentStationIndex = 0; // 방화역이 첫 번째
    let arrivalTimes = [2, 7]; // 방화역 초기 도착시간 (2개만)
    let useRealAPI = true; // 실제 API 사용 여부

    // 지하철 운행 시간 체크 (5호선: 05:30 ~ 24:00)
    function isSubwayOperating() {
      const now = new Date();
      const hour = now.getHours();
      const minute = now.getMinutes();
      const currentTime = hour * 60 + minute;
      
      // 05:30 (330분) ~ 24:00 (1440분)
      return currentTime >= 330 && currentTime <= 1440;
    }

    // 운행 종료 시 표시할 메시지
    function displayServiceEnded() {
      document.getElementById('next-train-1').textContent = '운행 종료';
      document.getElementById('next-train-2').textContent = '운행 종료';
      
      // 스타일 적용
      document.querySelectorAll('.eta').forEach(element => {
        element.style.color = '#888';
        element.style.fontWeight = '400';
      });
    }

    // 실제 API에서 데이터 가져오기
    async function fetchRealTimeData() {
      // 운행 시간이 아니면 API 호출하지 않음
      if (!isSubwayOperating()) {
        displayServiceEnded();
        return null;
      }

      try {
        // 현재 선택된 역과 호선 정보 가져오기
        const currentStationElement = document.getElementById('current-station');
        const currentLineNumberElement = document.querySelector('.line-number');
        
        if (!currentStationElement || !currentLineNumberElement) {
          console.error('필수 요소를 찾을 수 없습니다:', {
            currentStation: currentStationElement,
            currentLineNumber: currentLineNumberElement
          });
          return null;
        }
        
        const currentStation = currentStationElement.textContent;
        const currentLineNumber = currentLineNumberElement.textContent;
        
        // 서울시 지하철 실시간 도착정보 API URL들 (정확한 형식)
        const apiUrls = [
          // 실제 API (정확한 형식) - 최우선
          `http://swopenapi.seoul.go.kr/api/subway/${API_CONFIG.API_KEY}/json/realtimeStationArrival/0/${currentLineNumber}/${currentStation}`,
          // HTTPS 버전
          `https://swopenapi.seoul.go.kr/api/subway/${API_CONFIG.API_KEY}/json/realtimeStationArrival/0/${currentLineNumber}/${currentStation}`,
          // 샘플 API (fallback)
          `http://swopenAPI.seoul.go.kr/api/subway/sample/json/realtimeStationArrival/0/5/${API_CONFIG.API_KEY}/${API_CONFIG.STATION_CODE}`,
          // HTTPS 샘플 API
          `https://swopenAPI.seoul.go.kr/api/subway/sample/json/realtimeStationArrival/0/5/${API_CONFIG.API_KEY}/${API_CONFIG.STATION_CODE}`,
          // 기존 API들
          `http://openapi.seoul.go.kr:8088/${API_CONFIG.API_KEY}/json/realtimeStationArrival/0/5/${API_CONFIG.STATION_CODE}`,
          `https://openapi.seoul.go.kr:8088/${API_CONFIG.API_KEY}/json/realtimeStationArrival/0/5/${API_CONFIG.STATION_CODE}`
        ];

        for (let i = 0; i < apiUrls.length; i++) {
          const apiUrl = apiUrls[i];
          console.log(`API 시도 ${i + 1}/${apiUrls.length}:`, apiUrl);
          
          try {
        const response = await fetch(apiUrl, {
          method: 'GET',
              mode: 'cors'
              // CORS 문제 해결을 위해 헤더 완전 제거
            });
            
            console.log(`API ${i + 1} 응답 상태:`, response.status);
            
            if (response.ok) {
              const data = await response.json();
              console.log(`API ${i + 1} 응답 데이터 전체:`, data);
              
              // 다양한 API 응답 구조 확인
              let arrivalList = null;
              
              // 서울시 API 구조
              if (data && data.realtimeArrivalList) {
                arrivalList = data.realtimeArrivalList;
                console.log(`API ${i + 1} - 서울시 API 구조 사용`);
              }
              // 다른 API 구조들 확인
              else if (data && data.data && data.data.realtimeArrivalList) {
                arrivalList = data.data.realtimeArrivalList;
                console.log(`API ${i + 1} - 중첩 구조 사용`);
              }
              else if (data && data.result && data.result.realtimeArrivalList) {
                arrivalList = data.result.realtimeArrivalList;
                console.log(`API ${i + 1} - result 구조 사용`);
              }
              else if (Array.isArray(data)) {
                arrivalList = data;
                console.log(`API ${i + 1} - 배열 구조 사용`);
              }
              else {
                console.log(`API ${i + 1} - 알 수 없는 구조:`, Object.keys(data || {}));
                continue; // 다음 API 시도
              }
              
              if (arrivalList && arrivalList.length > 0) {
                console.log(`API ${i + 1} 열차 개수:`, arrivalList.length);
                
                // 각 열차 정보 상세 출력
                arrivalList.forEach((train, index) => {
                  console.log(`열차 ${index + 1}:`, {
                    subwayId: train.subwayId,
                    updnLine: train.updnLine,
                    trainLineNm: train.trainLineNm,
                    arvlMsg2: train.arvlMsg2,
                    arvlMsg3: train.arvlMsg3,
                    arvlCd: train.arvlCd,
                    statnNm: train.statnNm
                  });
                });
                
                console.log(`API ${i + 1} 성공!`, arrivalList.length, '개 열차');
                return arrivalList;
              } else {
                console.log(`API ${i + 1} 데이터 비어있음`);
                continue; // 다음 API 시도
              }
            }
          } catch (fetchError) {
            console.log(`API ${i + 1} 실패:`, fetchError.message);
            continue; // 다음 API 시도
          }
        }
        
        console.log('모든 API 시도 실패');
        return null;
        
      } catch (error) {
        console.error('API 호출 전체 실패:', error);
        return null;
      }
    }

    // API 데이터를 화면에 표시
    function displayRealTimeData(apiData) {
      if (!apiData || apiData.length === 0) {
        console.log('API 데이터가 없습니다. 시뮬레이션 모드로 전환합니다.');
        updateArrivalTimes();
        return;
      }

      // 방화행(상행) 열차만 필터링 (2개만)
      const upTrains = apiData.filter(train => 
        train.updnLine === '상행' || train.updnLine === '0'
      ).slice(0, 2);

      upTrains.forEach((train, index) => {
        const elementId = `next-train-${index + 1}`;
        const element = document.getElementById(elementId);
        
        if (element) {
          const arrivalTime = train.arvlMsg2 || train.arvlMsg3 || '정보없음';
          element.textContent = arrivalTime;
          
          // 특별한 상황 표시
          if (arrivalTime.includes('진입') || arrivalTime.includes('도착')) {
            element.style.color = "#ff6b6b";
            element.style.fontWeight = "800";
          } else if (arrivalTime.includes('지연')) {
            element.style.color = "#ffa500";
            element.style.fontWeight = "700";
          } else {
            element.style.color = index === 0 ? "var(--sign-blue)" : "var(--sign-cyan)";
            element.style.fontWeight = "700";
          }
        }
      });
    }

    // 시뮬레이션 모드 업데이트
    function updateArrivalTimes() {
      // 운행 시간이 아니면 운행 종료 메시지 표시
      if (!isSubwayOperating()) {
        displayServiceEnded();
        return;
      }

      // 도착시간을 1분씩 감소
      arrivalTimes = arrivalTimes.map(time => {
        if (time <= 1) {
          // 도착한 열차는 새로운 시간으로 교체 (5-20분 사이)
          return Math.floor(Math.random() * 16) + 5;
        }
        return time - 1;
      });

      // 논리적 순서 보장: 1번째 < 2번째
      arrivalTimes.sort((a, b) => a - b);

      // DOM 업데이트
      document.getElementById('next-train-1').textContent = `${arrivalTimes[0]}분 후 도착`;
      document.getElementById('next-train-2').textContent = `${arrivalTimes[1]}분 후 도착`;

      // 특별한 상황 표시
      if (arrivalTimes[0] <= 1) {
        document.getElementById('next-train-1').textContent = "곧 도착";
        document.getElementById('next-train-1').style.color = "#ff6b6b";
        document.getElementById('next-train-1').style.fontWeight = "800";
      } else {
        document.getElementById('next-train-1').style.color = "var(--sign-blue)";
        document.getElementById('next-train-1').style.fontWeight = "700";
      }
    }

    // 통합 업데이트 함수
    async function updateDisplay() {
      console.log('=== 업데이트 시작 ===');
      console.log('useRealAPI:', useRealAPI);
      console.log('API_KEY:', API_CONFIG.API_KEY);
      console.log('API_KEY 길이:', API_CONFIG.API_KEY ? API_CONFIG.API_KEY.length : 'undefined');
      console.log('운행시간 체크:', isSubwayOperating());
      
      if (useRealAPI && API_CONFIG.API_KEY && API_CONFIG.API_KEY !== 'YOUR_API_KEY_HERE') {
        console.log('API 모드로 시도 중...');
        const apiData = await fetchRealTimeData();
        if (apiData && apiData.length > 0) {
          console.log('API 데이터 사용:', apiData);
        displayRealTimeData(apiData);
      } else {
          console.log('API 데이터 없음, 시뮬레이션으로 전환');
          updateArrivalTimes();
        }
      } else {
        console.log('시뮬레이션 모드 사용 - API 키 문제:', {
          useRealAPI: useRealAPI,
          hasAPIKey: !!API_CONFIG.API_KEY,
          keyLength: API_CONFIG.API_KEY ? API_CONFIG.API_KEY.length : 0,
          isDefaultKey: API_CONFIG.API_KEY === 'YOUR_API_KEY_HERE'
        });
        updateArrivalTimes();
      }
    }

    // 역 변경 시뮬레이션 (30초마다)
    function changeStation() {
      currentStationIndex = (currentStationIndex + 1) % stations.length;
      const station = stations[currentStationIndex];
      
      document.querySelector('.current-station').textContent = station.name;
      arrivalTimes = [...station.arrivals];
      
      // 도착정보 업데이트
      updateArrivalTimes();
    }

    // 초기 실행은 DOMContentLoaded 안에서 실행
    
    // 30초마다 역 변경 (선택사항)
    // setInterval(changeStation, 30000);

    // 지연/운행중단 시뮬레이션 (가끔 발생)
    function simulateDelay() {
      if (Math.random() < 0.1) { // 10% 확률
        const delayMinutes = Math.floor(Math.random() * 5) + 2; // 2-6분 지연
        arrivalTimes[0] += delayMinutes;
        document.getElementById('next-train-1').textContent = `${arrivalTimes[0]}분 후 도착 (지연)`;
        document.getElementById('next-train-1').style.color = "#ffa500";
      }
    }

    // 5분마다 지연 시뮬레이션 체크
    setInterval(simulateDelay, 300000);

    // 열차 위치 및 애니메이션 관리
    const stationElements = document.querySelectorAll('.station');
    let currentTrainPosition = 48; // 하남검단산역이 마지막 (인덱스 48)
    let isTrainMoving = false;

    // 열차 위치 업데이트 함수
    function updateTrainPosition() {
      const nextArrival = arrivalTimes[0]; // 다음 도착시간
      
      // 현재 표시된 호선의 역 개수 확인
      const currentStations = document.querySelector('.stations[style*="flex"] .station');
      const totalStations = document.querySelectorAll('.stations[style*="flex"] .station').length;
      
      // trainIcon 요소 확인
      let trainIcon = document.getElementById('train-icon');
      if (!trainIcon) {
        console.log('train-icon 요소가 없어서 생성합니다.');
        // train-icon 요소가 없으면 생성
        trainIcon = document.createElement('div');
        trainIcon.id = 'train-icon';
        trainIcon.className = 'train-img';
        trainIcon.style.position = 'absolute';
        trainIcon.style.width = '20px';
        trainIcon.style.height = '20px';
        trainIcon.style.backgroundColor = '#ff6b6b';
        trainIcon.style.borderRadius = '50%';
        trainIcon.style.zIndex = '10';
        
        // 첫 번째 역에 추가
        const firstStation = document.querySelector('.stations[style*="flex"] .station');
        if (firstStation) {
          firstStation.appendChild(trainIcon);
        }
      }
      
      // 도착시간에 따른 열차 위치 계산 (현재 호선 기준)
      let targetPosition;
      if (nextArrival <= 1) {
        // 1분 이하면 마지막 역에 도착
        targetPosition = totalStations - 1;
        trainIcon.className = 'train-img at-station';
        isTrainMoving = false;
      } else if (nextArrival <= 3) {
        // 3분 이하면 마지막에서 두 번째 역 근처 (접근 중)
        targetPosition = Math.max(0, totalStations - 2);
        trainIcon.className = 'train-img approaching';
        isTrainMoving = true;
      } else if (nextArrival <= 6) {
        // 6분 이하면 중간 지점 근처
        targetPosition = Math.max(0, Math.floor(totalStations * 0.7));
        trainIcon.className = 'train-img moving';
        isTrainMoving = true;
      } else if (nextArrival <= 10) {
        // 10분 이하면 중간 지점 근처
        targetPosition = Math.max(0, Math.floor(totalStations * 0.6));
        trainIcon.className = 'train-img moving';
        isTrainMoving = true;
      } else if (nextArrival <= 15) {
        // 15분 이하면 중간 지점 근처
        targetPosition = Math.max(0, Math.floor(totalStations * 0.5));
        trainIcon.className = 'train-img moving';
        isTrainMoving = true;
      } else if (nextArrival <= 20) {
        // 20분 이하면 중간 지점 근처
        targetPosition = Math.max(0, Math.floor(totalStations * 0.4));
        trainIcon.className = 'train-img moving';
        isTrainMoving = true;
      } else if (nextArrival <= 25) {
        // 25분 이하면 중간 지점 근처
        targetPosition = Math.max(0, Math.floor(totalStations * 0.3));
        trainIcon.className = 'train-img moving';
        isTrainMoving = true;
      } else if (nextArrival <= 30) {
        // 30분 이하면 중간 지점 근처
        targetPosition = Math.max(0, Math.floor(totalStations * 0.2));
        trainIcon.className = 'train-img moving';
        isTrainMoving = true;
      } else {
        // 30분 초과면 더 먼 역들
        targetPosition = Math.max(0, Math.floor(totalStations * 0.1));
        trainIcon.className = 'train-img moving';
        isTrainMoving = true;
      }

      // 열차 위치 이동
      if (targetPosition !== currentTrainPosition) {
        moveTrainToStation(targetPosition);
        currentTrainPosition = targetPosition;
      }
    }

    // 열차를 특정 역으로 이동시키는 함수
    function moveTrainToStation(stationIndex) {
      // 기존 열차 아이콘 제거
      const existingTrain = document.getElementById('train-icon');
      if (existingTrain) {
        existingTrain.remove();
      }

      // 새로운 위치에 열차 아이콘 추가
      const targetStation = stationElements[stationIndex];
      const newTrainIcon = document.createElement('img');
      newTrainIcon.id = 'train-icon';
      newTrainIcon.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0OCAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0idXJsKCN0cmFpbkdyYWQpIiBzdHJva2U9IiMzMzMiIHN0cm9rZS13aWR0aD0iMiIvPgo8cmVjdCB4PSI0IiB5PSIxMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjE0IiByeD0iMyIgZmlsbD0iIzMzMzMzMyIvPgo8cmVjdCB4PSI2IiB5PSIxMiIgd2lkdGg9IjM2IiBoZWlnaHQ9IjEwIiByeD0iMiIgZmlsbD0iIzQ0NDQ0NCIvPgo8cmVjdCB4PSI4IiB5PSIxNCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjYiIHJ4PSIxIiBmaWxsPSIjNTU1NTU1Ii8+CjxyZWN0IHg9IjEwIiB5PSIxNiIgd2lkdGg9IjI4IiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNjY2NjY2Ii8+CjxyZWN0IHg9IjEyIiB5PSIxOCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjNzc3Nzc3Ii8+CjxyZWN0IHg9IjE0IiB5PSIyMCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjODg4ODg4Ii8+CjxyZWN0IHg9IjE2IiB5PSIyMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjOTk5OTk5Ii8+CjxyZWN0IHg9IjE4IiB5PSIyNCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjYWFhYWFhIi8+CjxyZWN0IHg9IjIwIiB5PSIyNiIgd2lkdGg9IjgiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiNiYmJiYmIiLz4KPGNpcmNsZSBjeD0iMTIiIGN5PSI4IiByPSIzIiBmaWxsPSIjMDBjMGZmIi8+CjxjaXJjbGUgY3g9IjIwIiBjeT0iOCIgcj0iMyIgZmlsbD0iIzAwYzBmZiIvPgo8Y2lyY2xlIGN4PSIyOCIgY3k9IjgiIHI9IjMiIGZpbGw9IiMwMGMwZmYiLz4KPGNpcmNsZSBjeD0iMzYiIGN5PSI4IiByPSIzIiBmaWxsPSIjMDBjMGZmIi8+CjxyZWN0IHg9IjEwIiB5PSI2IiB3aWR0aD0iMjgiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiMzMzMzMzMiLz4KPHJlY3QgeD0iMTIiIHk9IjgiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzQ0NDQ0NCIvPgo8cmVjdCB4PSIxNCIgeT0iMTAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzU1NTU1NSIvPgo8cmVjdCB4PSIxNiIgeT0iMTIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzY2NjY2NiIvPgo8cmVjdCB4PSIxOCIgeT0iMTQiIHdpZHRoPSIxMiIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iIzc3Nzc3NyIvPgo8cmVjdCB4PSIyMCIgeT0iMTYiIHdpZHRoPSI4IiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjODg4ODg4Ii8+CjxyZWN0IHg9IjIyIiB5PSIxOCIgd2lkdGg9IjQiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiM5OTk5OTkiLz4KPHJlY3QgeD0iMjQiIHk9IjIwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iI2FhYWFhYSIvPgo8cmVjdCB4PSIyNiIgeT0iMjIiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjYmJiYmJiIi8+CjxyZWN0IHg9IjI4IiB5PSIyNCIgd2lkdGg9IjIiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiNjY2NjY2MiLz4KPHJlY3QgeD0iMzAiIHk9IjI2IiB3aWR0aD0iMiIgaGVpZ2h0PSIyIiByeD0iMSIgZmlsbD0iI2RkZGRkZCIvPgo8cmVjdCB4PSIzMiIgeT0iMjgiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjZWVlZWVlIi8+CjxyZWN0IHg9IjM0IiB5PSIzMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiNmNWY1ZjUiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0idHJhaW5HcmFkIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6I2Y1ZjVmNTtzdG9wLW9wYWNpdHk6MSIgLz4KPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZTBlMGUwO3N0b3Atb3BhY2l0eToxIiAvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg==';
      newTrainIcon.alt = '지하철 열차';
      newTrainIcon.className = 'train-img';
      targetStation.insertBefore(newTrainIcon, targetStation.querySelector('span'));
    }

    // 열차 애니메이션 업데이트를 기존 업데이트 함수에 통합
    const originalUpdateDisplay = updateDisplay;
    updateDisplay = async function() {
      await originalUpdateDisplay();
      updateTrainPosition();
    };

    // 초기 열차 위치 설정
    updateTrainPosition();

    // 역 클릭 이벤트 처리
    function handleStationClick(event) {
      const stationElement = event.currentTarget;
      const stationName = stationElement.getAttribute('data-station');
      
      if (allStationData[stationName]) {
        // 현재 역 정보 업데이트
        document.querySelector('.current-station').textContent = stationName + '역';
        
        // 운행 시간 체크
        if (!isSubwayOperating()) {
          // 운행 종료 시 메시지 표시
          displayServiceEnded();
        } else {
          // 도착 정보 업데이트
          const stationData = allStationData[stationName];
          arrivalTimes = [...stationData.arrivals];
          
          // 논리적 순서 보장: 1번째 < 2번째
          arrivalTimes.sort((a, b) => a - b);
          
          // DOM 업데이트
          document.getElementById('next-train-1').textContent = `${arrivalTimes[0]}분 후 도착`;
          document.getElementById('next-train-2').textContent = `${arrivalTimes[1]}분 후 도착`;
          
          // 스타일 초기화
          document.querySelectorAll('.eta').forEach(element => {
            element.style.color = '';
            element.style.fontWeight = '';
          });
        }
        
        // 시각적 피드백
        stationElement.style.backgroundColor = '#00c0ff';
        stationElement.style.color = 'white';
        stationElement.style.transform = 'scale(1.1)';
        stationElement.style.transition = 'all 0.3s ease';
        
        // 다른 역들의 스타일 초기화
        document.querySelectorAll('.station').forEach(station => {
          if (station !== stationElement) {
            station.style.backgroundColor = '';
            station.style.color = '';
            station.style.transform = '';
          }
        });
        
        // 열차 위치 업데이트
        updateTrainPosition();
        
        console.log(`${stationName}역 클릭됨 - 운행시간: ${isSubwayOperating() ? '운행중' : '운행종료'}`);
      }
    }

    // 공통 함수: 노선 전환
    function switchLine(lineNumber, stationData, stationClass) {
      console.log(`노선 전환 시작: ${lineNumber}호선, 클래스: ${stationClass}`);
      
      // 모든 노선도 숨기기
      document.querySelectorAll('.stations').forEach(stations => {
        stations.style.display = 'none';
        console.log(`숨김: ${stations.className}`);
      });
      
      // 선택된 노선도 표시
      const targetStations = document.querySelector(`.${stationClass}`);
      console.log(`대상 노선도 찾기: .${stationClass}`, targetStations);
      
      if (targetStations) {
        targetStations.style.display = 'flex';
        console.log(`${stationClass} 노선도 표시됨`);
      } else {
        console.error(`${stationClass} 노선도를 찾을 수 없습니다!`);
      }
      
      // 노선 정보 업데이트
      console.log('호선 정보 업데이트 시작:', lineNumber);
      const lineNumberElement = document.querySelector('.line-number');
      const lineNameElement = document.querySelector('.line-name');
      
      if (lineNumberElement) {
        lineNumberElement.textContent = lineNumber;
        console.log('호선 번호 업데이트:', lineNumber);
      } else {
        console.error('호선 번호 요소를 찾을 수 없습니다!');
      }
      
      if (lineNameElement) {
        lineNameElement.textContent = `${lineNumber}호선`;
        console.log('호선 이름 업데이트:', `${lineNumber}호선`);
      } else {
        console.error('호선 이름 요소를 찾을 수 없습니다!');
      }
      
      // 호선 색상 업데이트
      updateLineColors(lineNumber);
      
      // 활성 노선 업데이트
      document.querySelectorAll('.line-item').forEach(item => item.classList.remove('active'));
      document.querySelector(`.line-${lineNumber}`).classList.add('active');
      
      // 현재 역을 첫 번째 역으로 설정
      const firstStation = document.querySelector(`.${stationClass} .station`);
      console.log('첫 번째 역 찾기:', firstStation);
      if (firstStation) {
        const stationName = firstStation.dataset.station;
        console.log('설정할 역 이름:', stationName);
        document.getElementById('current-station').textContent = stationName;
        
        // 해당 호선 데이터로 도착시간 업데이트
        if (stationData[stationName]) {
          const arrivals = stationData[stationName].arrivals;
          arrivals.sort((a, b) => a - b);
          
          // 전역 arrivalTimes 변수 업데이트
          arrivalTimes = [...arrivals];
          
          // DOM 업데이트
          document.getElementById('next-train-1').textContent = `${arrivals[0]}분`;
          document.getElementById('next-train-2').textContent = `${arrivals[1]}분`;
          
          console.log('도착시간 업데이트:', arrivals);
        }
      }
      
      // 해당 호선 역들에 클릭 이벤트 추가 (기존 이벤트 제거 후 추가)
      document.querySelectorAll(`.${stationClass} .station`).forEach(station => {
        // 기존 이벤트 리스너 제거
        station.replaceWith(station.cloneNode(true));
      });
      
      // 새로운 이벤트 리스너 추가
      document.querySelectorAll(`.${stationClass} .station`).forEach(station => {
        station.addEventListener('click', function() {
          const stationName = this.dataset.station;
          console.log(`${stationName}역 클릭됨`);
          document.getElementById('current-station').textContent = stationName;
          
          if (stationData[stationName]) {
            const arrivals = stationData[stationName].arrivals;
            arrivals.sort((a, b) => a - b);
            document.getElementById('next-train-1').textContent = `${arrivals[0]}분 후 도착`;
            document.getElementById('next-train-2').textContent = `${arrivals[1]}분 후 도착`;
          }
          
          // 클릭된 역 하이라이트
          document.querySelectorAll(`.${stationClass} .station`).forEach(s => s.classList.remove('clicked'));
          this.classList.add('clicked');
        });
      });
    }

    // 호선 색상 및 방향 업데이트 함수
    function updateLineColors(lineNumber) {
      console.log('updateLineColors 호출됨, 호선:', lineNumber);
      
          const lineColors = {
            1: '#0052A4',  // 1호선 파란색
            2: '#00A84D',  // 2호선 초록색
            '2성수': '#00A84D',  // 2호선 성수지선 초록색
            '2신정': '#00A84D',  // 2호선 신정지선 초록색
            3: '#EF7C1C',  // 3호선 주황색
            4: '#00A5DE',  // 4호선 하늘색
            5: '#A45BB9',  // 5호선 보라색
            6: '#CD7C2F',  // 6호선 갈색
            7: '#747F00',  // 7호선 올리브색
            8: '#E6186C',  // 8호선 분홍색
            9: '#BDB092',  // 9호선 베이지색
            '신분당': '#D4003B'  // 신분당선 빨간색
          };
      
          const lineDestinations = {
            1: '신창행',  // 1호선 - 신창
            2: '신정네거리행',  // 2호선 - 신정네거리 (순환선)
            '2성수': '신설동행',  // 2호선 성수지선 - 신설동
            '2신정': '까치산행',  // 2호선 신정지선 - 까치산
            3: '대화행',  // 3호선 - 대화
            4: '당고개행',  // 4호선 - 당고개
            5: '방화행',  // 5호선 - 방화
            6: '응암행',  // 6호선 - 응암
            7: '석남행',  // 7호선 - 석남
            8: '모란행',  // 8호선 - 모란
            9: '개화행',  // 9호선 - 개화
            '신분당': '광교행'  // 신분당선 - 광교
          };
      
      const color = lineColors[lineNumber] || '#A45BB9'; // 기본값은 5호선 색상
      const destination = lineDestinations[lineNumber] || '방화행'; // 기본값은 방화행
      
      // 호선 번호 배경색 변경
      const lineNumberElement = document.querySelector('.line-number');
      console.log('호선 번호 요소 찾기:', lineNumberElement);
      if (lineNumberElement) {
        lineNumberElement.style.backgroundColor = color;
        console.log('호선 번호 배경색 설정:', color);
      } else {
        console.error('호선 번호 요소를 찾을 수 없습니다!');
      }
      
      // 호선 이름 색상 변경
      const lineNameElement = document.querySelector('.line-name');
      if (lineNameElement) {
        lineNameElement.style.color = color;
      }
      
      // 도착시간 색상 변경
      const etaElements = document.querySelectorAll('.eta');
      etaElements.forEach(element => {
        element.style.color = color;
      });
      
      // 열차 방향 업데이트
      const currentTrainDest = document.getElementById('current-train-dest');
      const nextTrainDest = document.getElementById('next-train-dest');
      if (currentTrainDest) {
        currentTrainDest.textContent = `이번열차 ${destination}`;
      }
      if (nextTrainDest) {
        nextTrainDest.textContent = `다음열차 ${destination}`;
      }
    }

    // 모든 호선 클릭 이벤트를 DOMContentLoaded 안에서 설정
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM 로드 완료, 이벤트 리스너 설정 시작');
      
      // 1호선 클릭 이벤트
      const line1Button = document.querySelector('.line-1');
      if (line1Button) {
        line1Button.addEventListener('click', function() {
          console.log('1호선 클릭됨!');
          switchLine(1, line1StationData, 'line1-stations');
          // 1호선의 첫 번째 역(연천역)으로 설정
          document.getElementById('current-station').textContent = '연천';
          arrivalTimes = line1StationData['연천'].arrivals;
          updateArrivalTimes();
        });
      }

      // 2호선 클릭 이벤트 (본선)
      const line2Button = document.querySelector('.line-2');
      if (line2Button) {
        line2Button.addEventListener('click', function() {
          console.log('2호선 본선 클릭됨!');
          switchLine(2, line2MainStationData, 'line2-main-stations');
        });
      } else {
        console.error('2호선 버튼을 찾을 수 없습니다!');
      }

      // 2호선 성수지선 클릭 이벤트
      const line2SeongsuButton = document.querySelector('.line-2-seongsu');
      if (line2SeongsuButton) {
        line2SeongsuButton.addEventListener('click', function() {
          console.log('2호선 성수지선 클릭됨!');
          switchLine('2성수', line2SeongsuStationData, 'line2-seongsu-stations');
        });
      }

      // 2호선 신정지선 클릭 이벤트
      const line2SinjeongButton = document.querySelector('.line-2-sinjeong');
      if (line2SinjeongButton) {
        line2SinjeongButton.addEventListener('click', function() {
          console.log('2호선 신정지선 클릭됨!');
          switchLine('2신정', line2SinjeongStationData, 'line2-sinjeong-stations');
        });
      }

      // 3호선 클릭 이벤트
      const line3Button = document.querySelector('.line-3');
      if (line3Button) {
        line3Button.addEventListener('click', function() {
          console.log('3호선 클릭됨!');
          switchLine(3, line3StationData, 'line3-stations');
        });
      }

      // 4호선 클릭 이벤트
      const line4Button = document.querySelector('.line-4');
      if (line4Button) {
        line4Button.addEventListener('click', function() {
          console.log('4호선 클릭됨!');
          switchLine(4, line4StationData, 'line4-stations');
        });
      }

      // 5호선 클릭 이벤트
      const line5Button = document.querySelector('.line-5');
      if (line5Button) {
        line5Button.addEventListener('click', function() {
          console.log('5호선 클릭됨!');
          switchLine(5, allStationData, 'line5-stations');
        });
      }

      // 6호선 클릭 이벤트
      const line6Button = document.querySelector('.line-6');
      if (line6Button) {
        line6Button.addEventListener('click', function() {
          console.log('6호선 클릭됨!');
          switchLine(6, line6StationData, 'line6-stations');
        });
      }

      // 7호선 클릭 이벤트
      const line7Button = document.querySelector('.line-7');
      if (line7Button) {
        line7Button.addEventListener('click', function() {
          console.log('7호선 클릭됨!');
          switchLine(7, line7StationData, 'line7-stations');
        });
      }

      // 8호선 클릭 이벤트
      const line8Button = document.querySelector('.line-8');
      if (line8Button) {
        line8Button.addEventListener('click', function() {
          console.log('8호선 클릭됨!');
          switchLine(8, line8StationData, 'line8-stations');
        });
      }

      // 9호선 클릭 이벤트
      const line9Button = document.querySelector('.line-9');
      if (line9Button) {
        line9Button.addEventListener('click', function() {
          console.log('9호선 클릭됨!');
          switchLine(9, line9StationData, 'line9-stations');
        });
      }

      // 신분당선 클릭 이벤트
      const shinbundangButton = document.querySelector('.line-sinbundang');
      if (shinbundangButton) {
        shinbundangButton.addEventListener('click', function() {
          console.log('신분당선 클릭됨!');
          switchLine('신분당', shinbundangStationData, 'shinbundang-stations');
          // 신분당선의 첫 번째 역(신사역)으로 설정
          document.getElementById('current-station').textContent = '신사';
          arrivalTimes = shinbundangStationData['신사'].arrivals;
          updateArrivalTimes();
        });
      }
      
      // 페이지 로드 시 1호선 색상으로 초기화
      updateLineColors(1);
      
      // 초기 로드 시 1호선 역들에만 클릭 이벤트 추가
      document.querySelectorAll('.line1-stations .station').forEach(station => {
      station.style.cursor = 'pointer';
        station.addEventListener('click', function() {
          const stationName = this.dataset.station;
          console.log(`${stationName}역 클릭됨 (초기 로드)`);
          document.getElementById('current-station').textContent = stationName;
          
          if (line1StationData[stationName]) {
            const arrivals = line1StationData[stationName].arrivals;
            arrivals.sort((a, b) => a - b);
            document.getElementById('next-train-1').textContent = `${arrivals[0]}분 후 도착`;
            document.getElementById('next-train-2').textContent = `${arrivals[1]}분 후 도착`;
          }
          
          // 클릭된 역 하이라이트
          document.querySelectorAll('.line1-stations .station').forEach(s => s.classList.remove('clicked'));
          this.classList.add('clicked');
        });
      });
      
      console.log('모든 이벤트 리스너 설정 완료!');
      
      // DOM이 완전히 로드된 후 1호선으로 초기화
      console.log('1호선으로 초기화');
      
      // 시계 밑 호선 정보 초기화
      document.querySelector('.line-number').textContent = '1';
      document.querySelector('.line-name').textContent = '1호선';
      
      switchLine(1, line1StationData, 'line1-stations');
      
      // API 호출 시작
      console.log('API 호출 시작');
      updateDisplay();
      
      // 30초마다 도착시간 업데이트 (실제 API 사용시 더 자주 업데이트)
      setInterval(updateDisplay, 30000);
    });
  </script>
</body>
</html>